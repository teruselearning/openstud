generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Organization {
  id                          String   @id
  name                        String?
  location                    String?
  latitude                    Float?
  longitude                   Float?
  founded_year                Int?
  description                 String?
  focus                       String?
  is_org_public               Boolean?
  is_species_public           Boolean?
  obscure_location            Boolean?
  hide_name                   Boolean?
  allow_breeding_requests     Boolean?
  breeding_request_contact_id String?
  show_native_status          Boolean?
  dashboard_block             String? // JSON
  is_deleted                  Boolean  @default(false)
}

model Project {
  id          String  @id
  org_id      String?
  name        String?
  description String?
}

model User {
  id                  String  @id
  name                String?
  email               String  @unique
  role                String?
  status              String?
  password            String?
  avatar_url          String?
  allowed_project_ids String? // JSON Array
}

model Species {
  id                        String  @id
  project_id                String?
  common_name               String?
  scientific_name           String?
  type                      String?
  plant_classification      String?
  conservation_status       String?
  sexual_maturity_age_years Float?
  average_adult_weight_kg   Float?
  life_expectancy_years     Float?
  breeding_season_start     Int?
  breeding_season_end       Int?
  image_url                 String?
  native_status_country     String?
  native_status_local       String?
}

model Individual {
  id                    String   @id
  project_id            String?
  species_id            String?
  studbook_id           String?
  name                  String?
  sex                   String?
  birth_date            String?
  weight_kg             Float?
  sire_id               String?
  dam_id                String?
  image_url             String?
  dna_sequence          String?
  notes                 String?
  source                String?
  source_details        String?
  latitude              Float?
  longitude             Float?
  is_deceased           Boolean?
  death_date            String?
  loan_status           String?
  transferred_to_org_id String?
  transfer_date         String?
  transfer_note         String?
  weight_history        String? // JSON
  growth_history        String? // JSON
  health_history        String? // JSON
}

model BreedingEvent {
  id                String  @id
  species_id        String?
  sire_id           String?
  dam_id            String?
  date              String?
  offspring_count   Int?
  successful_births Int?
  losses            Int?
  notes             String?
  offspring_ids     String? // JSON Array
}

model BreedingLoan {
  id                        String  @id
  partner_org_id            String?
  proposer_org_id           String?
  role                      String?
  start_date                String?
  end_date                  String?
  status                    String?
  individual_ids            String? // JSON Array
  terms                     String?
  notification_recipient_id String?
  change_request            String? // JSON
}

model Partnership {
  id               String  @id
  org_id_1         String?
  org_id_2         String?
  status           String?
  established_date String?
}

model AppConfig {
  id       String  @id
  settings String? // JSON
}

model Language {
  code             String  @id
  name             String?
  translations     String? // JSON
  is_default       Boolean?
  manual_overrides String? // JSON
  is_deleted       Boolean  @default(false)
}